CREATE DATABASE estacio_projeto;

CREATE TABLE `cadastro_ferramentas` (
  `id_ferramenta` int NOT NULL AUTO_INCREMENT,
  `desc_ferramenta` varchar(60) DEFAULT NULL,
  `fabricante_ferramenta` varchar(30) DEFAULT NULL,
  `voltagem_ferramenta` varchar(15) NOT NULL,
  `part_number_ferramenta` varchar(25) NOT NULL,
  `tamanho_ferramenta` varchar(20) NOT NULL,
  `un_medida_ferramenta` varchar(15) NOT NULL,
  `tipo_ferramenta` varchar(15) NOT NULL,
  `material_ferramenta` varchar(15) NOT NULL,
  `max_reserva_ferramenta` int NOT NULL,
  PRIMARY KEY (`id_ferramenta`)
) ENGINE=InnoDB AUTO_INCREMENT=34 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci


CREATE TABLE `reserva_ferramenta` (
  `id_ferramenta` int NOT NULL,
  `cpf_tecnico_responsavel` varchar(11) NOT NULL,
  `nome_tecnico_responsavel` varchar(80) NOT NULL,
  `data_hor_retirada` datetime NOT NULL,
  `data_hor_devolucao` datetime NOT NULL,
  PRIMARY KEY (`id_ferramenta`,`cpf_tecnico_responsavel`),
  KEY `nome_completo_tecnicos_idx` (`cpf_tecnico_responsavel`),
  CONSTRAINT `cpf_tecnico_responsavel` FOREIGN KEY (`cpf_tecnico_responsavel`) REFERENCES `tecnicos_responsaveis` (`cpf_tecnicos`),
  CONSTRAINT `id_ferramenta` FOREIGN KEY (`id_ferramenta`) REFERENCES `cadastro_ferramentas` (`id_ferramenta`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci


CREATE TABLE `tecnicos_responsaveis` (
  `cpf_tecnicos` varchar(11) NOT NULL,
  `nome_completo_tecnicos` varchar(40) NOT NULL,
  `telefone_tecnicos` varchar(11) NOT NULL,
  `turno_tecnicos` varchar(8) NOT NULL,
  `equipe_tecnicos` varchar(30) NOT NULL,
  `email_tecnicos` varchar(90) DEFAULT NULL,
  PRIMARY KEY (`cpf_tecnicos`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci

CREATE TABLE `users` (
  `cpf_user_tecnico` varchar(11) NOT NULL,
  `nome_sobrenome` varchar(45) NOT NULL,
  PRIMARY KEY (`cpf_user_tecnico`,`nome_sobrenome`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci